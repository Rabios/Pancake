<!DOCTYPE html>
<html>
    <head>
        <title>Pancake - Sprites</title>
    </head>
    <body>
        <canvas id="canvas" width="400" height="400" style="background-color: black;"></canvas>
        <script src="../build/pancake.js"></script>
        <script>
            // Use HTML <canvas> tags that has id "canvas"
            pancake.context.use(document.getElementById("canvas"), 0);
            
            var astonished = false;
            
            // Load sprite from spritesheet into index 0
            // And assign states to the sprite, Can be customized!
            // You can also set duration, start, end, current frame, current time of sprite draw!
            // NOTE: Image by kenney, https://kenney.nl ;)
            pancake.sprite.load("alienGreen.png", {
                "walk": {
                    duration: 6,
                    info: [
                        { x: 0, y: 0, w: 68, h: 96 },
                        { x: 0, y: 96, w: 68, h: 96 },
                        { x: 0, y: 192, w: 68, h: 96 },
                        { x: 68, y: 192, w: 68, h: 94 },
                    ]
                },
                "astonished": {
                    duration: 6,
                    info: [
                        { x: 68, y: 286, w: 68, h: 93 }
                    ]
                }
            }, 0);
            
            function game() {
                pancake.graphics.clear();
                
                if (pancake.input.keydown(pancake.input.key.SPACE)) astonished = !astonished;
                
                if (!astonished) {
                    pancake.sprite.draw(0, "walk", 100, 100, 68, 96);
                } else {
                    pancake.sprite.draw(0, "astonished", 100, 100, 68, 96);
                }
                
                pancake.input.preventLoop();
            }
            
            // Create timer for game loop
            // And set timer to run at 60 frames per second, And use function game
            var gameloop = pancake.timers.timer(game, 60);
        </script>
        <p><b>Press SPACE key to switch sprite animation!</b></p>
    </body>
</html>
